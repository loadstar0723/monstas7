# MONSTA 프로젝트 완전 사양서
> 이 문서는 프로젝트의 핵심 사양을 정의합니다. 모든 구현은 이 사양을 따라야 합니다.

## 🎯 프로젝트 개요
- **프로젝트명**: MONSTA (몬스타)
- **목적**: 바이낸스 기반 암호화폐 AI 트레이딩 플랫폼
- **핵심 원칙**: 
  - ✅ 실제 바이낸스 API 데이터만 사용 (가짜 데이터 절대 금지)
  - ✅ 11개 AI 모델 통합 예측
  - ✅ 6단계 구독 티어 시스템
  - ✅ 역할 기반 접근 제어 (본사/총판/대리점/구독자)
  - ✅ 모듈화된 독립 페이지 구조
  - ✅ 100% 모바일 반응형

## 📊 역할별 메뉴 구조

### 1. 본사 (Headquarters)
```
📌 대시보드
├── 실시간 전체 현황
├── 매출 통계
├── 사용자 분석
└── AI 모델 성능

💼 회원 관리
├── 전체 회원 조회
├── 역할 변경
├── 권한 관리
├── 블랙리스트
├── 활동 로그
└── 대량 메시지 발송

💰 수익 관리
├── 매출 현황
├── 정산 관리
├── 수수료 설정
├── 결제 내역
├── 환불 처리
└── 세금계산서

🏢 조직 관리
├── 총판 관리
├── 대리점 관리
├── 실적 순위
├── 인센티브 설정
└── 계약 관리

📊 통계 분석
├── 가입 통계
├── 이탈률 분석
├── LTV 분석
├── 코호트 분석
└── 예측 모델링

⚙️ 시스템 설정
├── AI 모델 설정
├── API 한도 관리
├── 서버 모니터링
├── 백업 관리
└── 보안 설정
```

### 2. 총판 (Distributor)
```
📌 대시보드
├── 산하 대리점 현황
├── 매출 통계
├── 수수료 현황
└── 목표 대비 실적

👥 대리점 관리
├── 대리점 목록
├── 신규 등록
├── 실적 관리
├── 정산 관리
└── 교육 자료

💼 구독자 관리
├── 직접 가입자
├── 구독 현황
├── 만료 예정
└── 재가입 유도

💰 수익 관리
├── 수수료 내역
├── 정산 요청
├── 인센티브
└── 세금계산서

📈 마케팅
├── 프로모션 생성
├── 쿠폰 발행
├── 이벤트 관리
└── 홍보 자료
```

### 3. 대리점 (Agency)
```
📌 대시보드
├── 가입자 현황
├── 매출 통계
├── 수수료 현황
└── 이번달 목표

👥 구독자 관리
├── 회원 목록
├── 신규 가입
├── 구독 갱신
├── 1:1 상담
└── 만족도 조사

💰 수익 관리
├── 수수료 내역
├── 정산 현황
├── 보너스
└── 출금 신청

📢 마케팅
├── 추천 링크
├── 쿠폰 관리
├── SNS 공유
└── 이메일 캠페인
```

### 4. 구독자 (Subscriber)
```
📌 대시보드
├── 포트폴리오 요약
├── 오늘의 수익
├── AI 시그널
├── 주요 뉴스
└── 시장 현황

💹 트레이딩
├── 실시간 차트
├── 주문 실행
├── 보유 자산
├── 거래 내역
└── 손익 분석

🤖 AI 분석
├── 11개 모델 예측
├── 신뢰도 점수
├── 백테스팅
├── 성과 분석
└── 커스텀 전략

📊 기술적 분석
├── 30+ 지표
├── 패턴 인식
├── 지지/저항
├── 볼륨 분석
└── 오더플로우

🔄 자동매매
├── 전략 생성
├── 실시간 모니터링
├── 성과 리포트
├── 리스크 관리
└── 알림 설정

📚 교육
├── 트레이딩 강좌
├── 전략 가이드
├── 웨비나
├── 1:1 컨설팅
└── 커뮤니티

💼 내 계정
├── 구독 관리
├── API 설정
├── 추천인 관리
├── 결제 정보
└── 보안 설정
```

## 🤖 AI 모델 시스템

### 11개 AI 모델
1. **LSTM** (Long Short-Term Memory)
   - 가중치: 15%
   - 용도: 시계열 패턴 학습

2. **GRU** (Gated Recurrent Unit)
   - 가중치: 12%
   - 용도: 단기 추세 예측

3. **Random Forest**
   - 가중치: 10%
   - 용도: 특징 중요도 분석

4. **XGBoost**
   - 가중치: 10%
   - 용도: 그래디언트 부스팅

5. **LightGBM**
   - 가중치: 10%
   - 용도: 빠른 부스팅

6. **ARIMA**
   - 가중치: 8%
   - 용도: 시계열 예측

7. **Prophet**
   - 가중치: 8%
   - 용도: 계절성 분석

8. **Transformer**
   - 가중치: 10%
   - 용도: 어텐션 메커니즘

9. **BERT**
   - 가중치: 7%
   - 용도: 뉴스 감성 분석

10. **GAN**
    - 가중치: 5%
    - 용도: 시나리오 생성

11. **Ensemble**
    - 가중치: 5%
    - 용도: 최종 통합

## 💰 구독 티어 시스템

| 티어 | 가격 | 주요 기능 |
|------|------|-----------|
| **Basic** | ₩49,000/월 | 5개 코인, 기본 지표, 일일 시그널 10개 |
| **Standard** | ₩99,000/월 | 10개 코인, 모든 지표, 시그널 무제한, 백테스팅 |
| **Professional** | ₩299,000/월 | 20개 코인, AI 5개 모델, 자동매매, API 연동 |
| **Premium** | ₩599,000/월 | 50개 코인, AI 11개 모델, 무제한 자동매매, 1:1 컨설팅 |
| **VIP** | ₩1,499,000/월 | 무제한 코인, 우선 시그널, 전담 매니저, 맞춤 전략 |
| **Enterprise** | ₩5,000,000/월 | 기관 전용, API 우선권, 커스텀 모델, 현장 교육 |

## 🔄 리퍼럴 시스템

### 수수료 구조
- **1차 추천**: 직접 추천 30%
- **2차 추천**: 간접 추천 15%
- **3차 추천**: 3단계 추천 5%
- **팀 보너스**: 팀 실적 기반
- **랭킹 보너스**: 상위 순위 추가

## 📊 기술적 지표 (30+)

### 이동평균선
- SMA, EMA, WMA, VWMA

### 모멘텀
- RSI, MACD, Stochastic, CCI, Williams %R

### 변동성
- Bollinger Bands, ATR, Keltner Channel, Donchian Channel

### 볼륨
- OBV, CMF, VWAP, Volume Profile

### 추세
- ADX, Aroon, Ichimoku, Parabolic SAR

### 시장 미시구조
- Order Flow Imbalance (OFI)
- Market Depth Analysis
- Liquidity Heatmap
- Whale Movement Tracking

## 🔧 기술 스택

### 백엔드
- Express.js + TypeScript
- WebSocket (실시간 통신)
- Redis (캐싱/세션)
- PostgreSQL (주 데이터베이스)
- MongoDB (로그/분석)
- BullMQ (작업 큐)

### 프론트엔드
- Next.js 14 (App Router)
- React 18
- TanStack Query
- Zustand (상태 관리)
- ApexCharts/TradingView
- Tailwind CSS

### AI/ML
- TensorFlow.js
- Python 마이크로서비스
- MLflow (모델 관리)

### 인프라
- Docker/Kubernetes
- AWS/GCP
- CloudFlare
- PM2

## 📱 텔레그램 봇 명령어

```
/portfolio - 포트폴리오 조회
/buy [심볼] [금액] - 매수 주문
/sell [심볼] [%] - 매도 주문
/signals - AI 시그널 조회
/alert [조건] - 알림 설정
/stop - 자동매매 중지
/performance - 성과 분석
/news - 주요 뉴스
/help - 도움말
```

## ✅ 구현 체크리스트

### Phase 1: 핵심 기능 ✅ 완료
- [x] Streamlit 기반 프로젝트 구조 설정
- [x] PostgreSQL 데이터베이스 스키마 설계
- [x] 바이낸스 API 연동 모듈
- [x] 역할 기반 메뉴 시스템
- [x] 로그인/인증 시스템

### Phase 2: 페이지 모듈 ✅ 완료
- [x] 메인 대시보드 (역할별)
- [x] 트레이딩 페이지 (차트, 주문, 포트폴리오)
- [x] AI 분석 페이지 (11개 모델 예측)
- [x] 기술적 분석 (30+ 지표, 패턴인식)
- [x] 자동매매 시스템 (전략 생성, 모니터링)
- [x] 교육 페이지 (강좌, 전략가이드, 웨비나, 컨설팅)
- [x] 계정 관리 (구독, API, 추천인, 결제, 보안)

### Phase 3: 관리 시스템
- [ ] 본사 관리 페이지
- [ ] 총판/대리점 관리
- [ ] 회원 관리 시스템
- [ ] 수익/정산 시스템
- [ ] 통계 분석

### Phase 4: 실제 연동
- [ ] 실제 PostgreSQL 연결
- [ ] 실제 바이낸스 API 데이터
- [ ] Redis 캐싱 구현
- [ ] WebSocket 실시간 스트리밍
- [ ] 텔레그램 봇 연동

## 📂 현재 프로젝트 구조
```
monstas7/
├── app.py                    # ✅ 메인 애플리케이션
├── requirements.txt          # ✅ 의존성 목록
├── .env.example             # ✅ 환경변수 템플릿
├── run.bat / run.sh         # ✅ 실행 스크립트
├── config/
│   ├── __init__.py          # ✅
│   └── settings.py          # ✅ 설정 파일
├── components/
│   ├── __init__.py          # ✅
│   └── menu.py              # ✅ 메뉴 컴포넌트
├── services/
│   ├── __init__.py          # ✅
│   ├── database.py          # ✅ DB 연결 관리
│   └── binance_api.py      # ✅ 바이낸스 API
├── pages/
│   ├── __init__.py          # ✅
│   ├── trading.py           # ✅ 트레이딩 페이지
│   ├── ai_analysis.py       # ✅ AI 분석 페이지
│   ├── technical_analysis.py # ✅ 기술적 분석
│   ├── auto_trading.py      # ✅ 자동매매
│   └── ... (기타 페이지)
├── database/
│   └── schema.sql           # ✅ DB 스키마
└── .streamlit/
    └── config.toml          # ✅ Streamlit 설정
```

## 🚫 절대 금지 사항
1. **가짜/데모 데이터 사용 금지** - 모든 데이터는 실제 바이낸스 API에서 가져와야 함
2. **하드코딩된 값 금지** - 모든 설정은 환경 변수나 DB에서 관리
3. **역할 무시 금지** - 모든 기능은 역할 기반 권한 체크 필수
4. **모듈화 원칙 위반 금지** - 각 페이지는 독립적으로 작동해야 함
5. **모바일 무시 금지** - 모든 UI는 반응형이어야 함

## 📝 일관성 유지 규칙
1. 이 문서를 주기적으로 참조하여 일관성 유지
2. 새로운 기능 추가 시 이 문서 업데이트
3. 구현 전 이 문서와 대조 확인
4. 역할별 권한 매트릭스 준수
5. AI 모델 가중치 유지

---
*이 문서는 MONSTA 프로젝트의 마스터 사양서입니다. 모든 개발은 이 사양을 따라야 합니다.*
*최종 업데이트: 2025-08-31*